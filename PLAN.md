```
+------------------------------------+
|   Start: User visits Hackathon Site  |
+------------------------------------+
                 |
                 V
+------------------------------------+
|      New or Returning User?        |
+------------------------------------+
     |                               |
  New User                         Login
     |                               |
     V                               V
+-----------------------------+     +-----------------------------+
| User selects "Register"     |     | User selects "Login"        |
+-----------------------------+     +-----------------------------+
     |                               |
     V                               V
+-----------------------------+     +-----------------------------+
| Frontend sends data to      |     | Frontend sends credentials  |
| /api/register               |     | to /api/login               |
+-----------------------------+     +-----------------------------+
     |                               |
     V                               V
+-----------------------------+     +-----------------------------+
| Backend: Validate Input?    | Yes | Backend: Find user in DB?   |
| (email, password strength)  |---->| (by indexed email)          |
+-----------------------------+     +-----------------------------+
     | No                            | No
     |                               |
     |          +--------------------|--------------------+
     |          |                    | Yes                |
     V          V                    V                    V
+-----------------------------+     +-----------------------------+      No      +---------------------------+
| Return 400 Bad Request      |     | Verify password hash?       |------------->|  Return 401 Unauthorized  |
| (Show form error to user)   |     | (bcrypt.compare)            |             |  (Generic "invalid creds")|
+-----------------------------+     +-----------------------------+              +---------------------------+
               |                               | Yes                                      ^
               V                               V                                          |
+-----------------------------+     +-------------------------------------------------------+
| Backend: Email exists?      | No
+-----------------------------+---->
     | Yes
     V
+-----------------------------+
| Return 409 Conflict         |
| (Show "Email already in use") |
+-----------------------------+
     |
     |         +-------------------------------------------------------------+
     |         |                                                             |
     V         V                                                             V
+-----------------------------+     +-------------------------------------------------------+
| Hash password (bcrypt)      |     |                                                       |
+-----------------------------+     |                                                       |
     |                               |                                                       |
     V                               V                                                       |
+-----------------------------+     +-----------------------------+                         |
| Store user in Database      |     | Generate new JWT for session|                         |
+-----------------------------+     +-----------------------------+                         |
     |                               |                                                       |
     V                               V                                                       |
+-----------------------------+     +-----------------------------+                         |
| Push "Send Welcome Email"   |     | Send 200 OK with secure,    |                         |
| job to background queue     |     | HttpOnly JWT cookie         |                         |
+-----------------------------+     +-----------------------------+                         |
     |                               |                                                       |
     +--------------+----------------+                                                       |
                    |                                                                        |
                    |                                                                        |
                    V                                                                        |
+-------------------------------------------------------+                                  |
|                 User is now Authenticated             |                                  |
|               (Redirected to /dashboard)              |                                  |
+-------------------------------------------------------+                                  |
                    |                                                                        |
                    |                                                                        |
    +-------------------------------+------------------+------------------+-----------------+
    |                               |                                   |
    |                               V                                   V
    |           +---------------------------------+          +-----------------------------+
    |           | User clicks "Logout"            |          |  User attempts an action    |
    |           +---------------------------------+          |  (e.g., view team, export)  |
    |                           |                            +-----------------------------+
    |                           V                                         |
    |           +---------------------------------+                         |
    |           | Backend invalidates session/token |                         |
    |           +---------------------------------+                         V
    |                           |                      +------------------------------------------+
    |                           V                      | Auth Middleware: Is JWT valid & not expired? |
    |           +---------------------------------+    +------------------------------------------+
    |           | Redirect to Landing Page        |                         | No
    |           +---------------------------------+                         V
    V                                                              +-----------------------------+
+---------------------------------+                              |  Return 401 Unauthorized    |
|       End of Session Flow       |                              |  (Redirect to Login page)   |
+---------------------------------+                              +-----------------------------+
                                                                                | Yes
                                                                                V
                                                            +------------------------------------------+
                                                            |   Authorization: Check user role in JWT  |
                                                            +------------------------------------------+
                                                                 |                                   |
                                         (Role: 'participant')   |                                   | (Role: 'admin')
                                                                 V                                   V
                                                +------------------------------+     +--------------------------------------+
                                                | Perform Standard Action      |     | Admin navigates to Admin Panel       |
                                                | (e.g., view team, update profile)|     | & requests /api/admin/export         |
                                                +------------------------------+     +--------------------------------------+
                                                                 |                                   |
                                                                 V                                   V
                                                +------------------------------+     +--------------------------------------+
                                                | Backend fetches relevant data|     | Backend fetches ALL registration data|
                                                | for that specific user &     |     | from DB                              |
                                                | returns it.                  |     +--------------------------------------+
                                                +------------------------------+                     |
                                                                 |                                   V
                                                                 V                               +--------------------------------------+
                                                +------------------------------+     | Format data into a CSV file string   |
                                                |     End of Participant Flow  |     +--------------------------------------+
                                                +------------------------------+                     |
                                                                                                     V
                                                                                             +--------------------------------------+
                                                                                             | Return file response to trigger      |
                                                                                             | browser download                     |
                                                                                             +--------------------------------------+
                                                                                                     |
                                                                                                     V
                                                                                             +--------------------------------------+
                                                                                             |          End of Admin Flow           |
                                                                                             +--------------------------------------+
